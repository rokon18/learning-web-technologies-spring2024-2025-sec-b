<!DOCTYPE html>
<html>
<head>
  <title>Simple Calculator</title>
</head>
<body>

<h2>Calculator</h2>

<input type="text" id="display" readonly style="width: 100%; height: 40px; font-size: 20px; text-align: right;"><br><br>

<table>
  <tr>
    <td><button onclick="clearDisplay()">AC</button></td>
    <td><button onclick="setOperation('%')">%</button></td>
    <td><button onclick="setOperation('/')">/</button></td>
  </tr>
  <tr>
    <td><button onclick="press('7')">7</button></td>
    <td><button onclick="press('8')">8</button></td>
    <td><button onclick="press('9')">9</button></td>
    <td><button onclick="setOperation('*')">*</button></td>
  </tr>
  <tr>
    <td><button onclick="press('4')">4</button></td>
    <td><button onclick="press('5')">5</button></td>
    <td><button onclick="press('6')">6</button></td>
    <td><button onclick="setOperation('-')">-</button></td>
  </tr>
  <tr>
    <td><button onclick="press('1')">1</button></td>
    <td><button onclick="press('2')">2</button></td>
    <td><button onclick="press('3')">3</button></td>
    <td><button onclick="setOperation('+')">+</button></td>
  </tr>
  <tr>
    <td><button onclick="press('0')">0</button></td>
    <td><button onclick="press('.')">.</button></td>
    <td><button onclick="calculate()">=</button></td>
  </tr>
</table>

<script>
  let num1 = '';
  let num2 = '';
  let operator = '';

  function press(value) {
    if (operator === '') {
      num1 += value;
      updateDisplay(num1);
    } else {
      num2 += value;
      updateDisplay(num2);
    }
  }

  function setOperation(op) {
    if (num1 !== '') operator = op;
  }

  function calculate() {
    if (num1 === '' || num2 === '' || operator === '') return;

    let n1 = parseFloat(num1);
    let n2 = parseFloat(num2);
    let result = 0;

    switch (operator) {
      case '+': result = n1 + n2; break;
      case '-': result = n1 - n2; break;
      case '*': result = n1 * n2; break;
      case '/': result = n1 / n2; break;
      case '%': result = n1 % n2; break;
      default: result = 'Error';
    }

    updateDisplay(result);
    clearState(result.toString());
  }

  function clearDisplay() {
    num1 = '';
    num2 = '';
    operator = '';
    updateDisplay('');
  }

  function updateDisplay(value) {
    document.getElementById('display').value = value;
  }

  function clearState(result) {
    num1 = result;
    num2 = '';
    operator = '';
  }
</script>

</body>
</html>
